<!-- Body Content -->
<div class="app-content" ng-app="dapp" ng-controller="saSubscrptionManageAdminController" ng-init="subscriptionAdminList()">
    <div class="docubodyTitle">
        <ul id="breadcrumb">
            <li>
                <a ui-sref="dapp.saManageSubscription">
                    <span class="icon icon-beaker"> </span>Manage Subscription</a>
            </li>
            <li>
                <a href="javascript:void(0);">
                    <span class="icon icon-beaker"> </span>Manage Admin</a>
            </li>
        </ul>
        <div class="bttnGroup" data-toggle="modal" data-target="#manageAdminaddnew" data-backdrop="static">
            <a href="javascript:void(0);" class="addNew">
                <img src="image/createnewIcon.png">Add New</a>
        </div>
    </div>
    <div class="docuContent">
        <div class="manageOrganization vesslesDocumentsTable">
            <div class="row">
                <div class="col-lg-6">
                    <div class="datatableEntry">
                        <label>Show
                            <input type="text" ng-model="itemsPerPage">of
                            <span>{{allSubscriptionAdminList.length}}</span>
                        </label>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="docuchainSearchbox">
                        <div class="searchInput">
                            <input type="text" placeholder="Search" ng-model="subscriptionadminsearch">
                            <button type="button" class="searchIcon">
                                <i class="fa fa-search" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-xs-12">
                    <div class="docuchainmanageOrganization">
                        <div class="manageOrganizationTable">
                            <table>
                                <thead>
                                    <tr>
                                        <th ng-click="orderByField='userName'; reverseSort = !reverseSort">User Name <i class="fa fa-sort float-right" aria-hidden="true"></i></th>
                                        <th class="text-center">Status</th>
                                        <th class="text-center">Reset Password</th>
                                        <th class="text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr dir-paginate="admin in allSubscriptionAdminList | orderBy:'userName' |filter:subscriptionadminsearch |itemsPerPage:itemsPerPage | orderBy:orderByField:reverseSort" current-page="currentPage">
                                        <td>{{admin.userName}}</td>
                                        <td>
                                            <div class="onoffswitch">
                                                <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" ng-true-value="1" ng-false-value="0" ng-checked="{{admin.status}}"
                                                    id="myonoffswitch{{$index}}" ng-model='rec.test' ng-click="changeStatusUserLists(admin);">
                                                <label class="onoffswitch-label" for="myonoffswitch{{$index}}">
                                                    <span class="onoffswitch-inner"></span>
                                                    <span class="onoffswitch-switch"></span>
                                                </label>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <a data-toggle="modal" data-backdrop="static" data-toggle="modal" data-target="#resetPassword" data-backdrop="static" ng-click="passowrdret(admin)">
                                                <img src="image/lock.png">
                                            </a>
                                        </td>
                                        <td class="text-center">
                                            <!-- <button type="button" class="btned editBtn">
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </button> -->
                                            <button type="button" class="btned editBtn" data-toggle="modal" data-backdrop="static" data-target="#manageAdminEdit" ng-click="editAdmin(admin)">
                                                <i class="fa fa-pencil" aria-hidden="true"></i>
                                            </button>
                                            <button type="button" class="btned deleteBtn" data-toggle="modal" data-target="#delete" data-backdrop="static" ng-click="deleteSubAdminId(admin)">
                                                <i class="fa fa-trash" aria-hidden="true"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <dir-pagination-controls max-size="5" direction-links="true" boundary-links="true">
                        </dir-pagination-controls>
                        <div class="vesselstablebottom" ng-if="allSubscriptionAdminList.length == 0">No Records Found.</div>

                    </div>
                </div>
            </div>
        </div>
        <div class="addNewUserSect">
            <div class="modal fade" id="manageAdminEdit" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Admin Edit</h4>
                            <button type="button" class="close" data-dismiss="modal" ng-click="closeadminEdit()">&times;</button>
                        </div>
                        <div class="modal-body addNew-Userbody">
                            <h1>User Information</h1>
                            <form name="edit" ng-submit="updateAdmin()">
                                <div class="subscriptbody">
                                    <div class="form-group">
                                        <label>First Name
                                            <span>*</span>
                                        </label>
                                        <input type="text" custom-focus class="text-box" placeholder="First Name" ng-model="editAdminDetail.firstName" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Last Name
                                            <span>*</span>
                                        </label>
                                        <input type="text" custom-focus class="text-box" placeholder="Last Name" ng-model="editAdminDetail.lastName" required>

                                    </div>
                                    <div class="form-group">
                                        <label>Username
                                            <span>*</span>
                                        </label>
                                        <input type="text" custom-focus class="text-box" placeholder="Username" ng-model="editAdminDetail.userName" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label>Email Address
                                            <span>*</span>
                                        </label>
                                        <input type="text" custom-focus class="text-box" placeholder="Email Address" name="email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/"
                                            ng-model="editAdminDetail.mail" required>
                                        <span style="color:Red" ng-show="createOrganizationForm.email.$dirty&&createOrganizationForm.email.$error.pattern">Please Enter Valid Email</span>

                                    </div>
                                </div>
                                <div class="modal-footer1">
                                    <button type="button" class="btngeo clearbtn" ng-click="resetSubAdminEdit()">CLEAR</button>
                                    <button type="submit" class="btngeo submitbtn clr448aff" ng-disabled="edit.$invalid">SUBMIT</button>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <!-- Delete Popup -->
        <div class="deleteMessage">
            <div class="modal fade" id="delete" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Admin profile delete</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="delete-group-body">
                                <p>
                                    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>Are you sure you want to delete this admin?</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btnd buttn-delete" ng-click="deleteSubAdmin()">Yes</button>
                            <button type="button" class="btnd buttn-no" data-dismiss="modal">No</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- change passowrd -->
    <div class="addNewUserSect resetPassworddiv">

        <div class="modal fade" id="resetPassword" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Reset Password</h4>
                        <button type="button" class="close" data-dismiss="modal" ng-click="closeResetPassword()">&times;</button>
                    </div>
                    <div class="modal-body addNew-Userbody">
                        <form name="resetPasswordForm" ng-submit="resetPasswordAdmin(resPass)">
                            <div class="subscriptbody">
                                <div class="form-group">
                                    <label>Username
                                        <span>*</span>
                                    </label>
                                    <input type="text" custom-focus class="text-box" placeholder="Username" ng-model="resPass.userName" readonly>
                                </div>
                                <div class="form-group">
                                    <label>Password
                                        <span>*</span>
                                    </label>
                                    <input type="password" custom-focus class="text-box" name="password" placeholder="Password" ng-model="resPass.password" required
                                        ng-pattern="/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/">
                                    <span ng-show="!resetPasswordForm.password.$error.required && (resetPasswordForm.password.$error.minlength || resetPasswordForm.password.$error.maxlength) && resetPasswordForm.password.$dirty && resetPasswordForm.password.$touched"
                                        style="color:red">Passwords must be between 8 and 20 characters.</span>
                                    <span ng-show="!resetPasswordForm.password.$error.required && !resetPasswordForm.password.$error.minlength && !resetPasswordForm.password.$error.maxlength && resetPasswordForm.password.$error.pattern && resetPasswordForm.password.$dirty && resetPasswordForm.password.$touched"
                                        style="color:red">Must contain one lower &amp; uppercase letter, and one non-alpha character (a number
                                        or a symbol.)</span>
                                    <br />
                                </div>
                                <div class="form-group">
                                    <label>Confirm Password
                                        <span>*</span>
                                    </label>
                                    <input type="password" custom-focus class="text-box" placeholder="Confirm Password" ng-model="resPass.confirmPassword" ng-change="checkPassword(resPass.password,resPass.confirmPassword)"
                                        required>
                                    <!-- <span ng-show="IsMatch" style="color:red">Please enter same password and confirm password -->
                                    </span>
                                </div>

                            </div>
                            <div class="modal-footer1">
                                <button type="button" class="btngeo clearbtn" ng-click="clearResetPassword()">CLEAR</button>
                                <button type="submit" class="btngeo submitbtn clr448aff" ng-disabled="resetPasswordForm.$pristine|| resetPasswordForm.$invalid">SUBMIT</button>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="preloader" ng-show="loader">
        <div id="cssload-loader">
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
        </div>
    </div>
</div>

<!-- Super Admin Create New Edit -->
<div class="subscriptionPopup">
    <!-- edit new Popup -->



    <!-- Add new Popup -->
    <div class="addNewUserSect">

        <div class="modal fade" id="manageAdminaddnew" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Create new admin</h4>
                        <button type="button" class="close" data-dismiss="modal" ng-click="clsoeManageAdminaddnew()">&times;</button>
                    </div>
                    <div class="modal-body addNew-Userbody">
                        <h1>User Information</h1>
                        <form name="addNewUserSelectForm" ng-submit="createOrganizationAdmin(user)">
                            <div class="subscriptbody">
                                <div class="form-group">
                                    <label>First Name
                                        <span>*</span>
                                    </label>
                                    <input type="text" ng-model="user.id" hidden>
                                    <input type="text" custom-focus class="text-box" placeholder="First Name" ng-model="user.firstName" required>
                                </div>
                                <div class="form-group">
                                    <label>Last Name
                                        <span>*</span>
                                    </label>
                                    <input type="text" custom-focus class="text-box" placeholder="Last Name" ng-model="user.lastName" required>

                                </div>
                                <div class="form-group">
                                    <label>Email Address
                                        <span>*</span>
                                    </label>
                                    <input type="text" custom-focus class="text-box" placeholder="Email Address" name="mail" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/"
                                        ng-model="user.mail" required>
                                    <span style="color:Red" ng-show="createOrganizationForm.mail.$dirty&&createOrganizationForm.mail.$error.pattern">Please Enter Valid Email</span>

                                </div>
                                <h1>Login Information</h1>
                                <div class="form-group">
                                    <label>Username
                                        <span>*</span>
                                    </label>
                                    <input type="text" custom-focus class="text-box" placeholder="Username" ng-model="user.userName" required>
                                </div>
                                <div class="form-group">
                                    <label>Password
                                        <span>*</span>
                                    </label>
                                    <input type="password" custom-focus class="text-box" name="password" placeholder="Password" ng-model="user.password" required
                                        ng-pattern="/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/">
                                    <span ng-show="!addNewUserSelectForm.password.$error.required && (addNewUserSelectForm.password.$error.minlength || addNewUserSelectForm.password.$error.maxlength) && addNewUserSelectForm.password.$touched"
                                        style="color:red">Passwords must be between 8 and 20 characters.</span>
                                    <span ng-show="!addNewUserSelectForm.password.$error.required && !addNewUserSelectForm.password.$error.minlength && !addNewUserSelectForm.password.$error.maxlength && addNewUserSelectForm.password.$error.pattern && addNewUserSelectForm.password.$touched"
                                        style="color:red">Must contain one lower &amp; uppercase letter, and one non-alpha character (a number
                                        or a symbol.)</span>
                                    <br />
                                </div>
                                <div class="form-group">
                                    <label>Confirm Password
                                        <span>*</span>
                                    </label>
                                    <input type="password" custom-focus class="text-box" placeholder="Confirm Password" ng-model="user.confirmPassword" ng-change="checkPassword(user.password,user.confirmPassword)"
                                        required>
                                    <!-- <span ng-show="IsMatch" style="color:red">Please enter same password and confirm password -->
                                    </span>
                                </div>

                            </div>
                            <div class="modal-footer1">
                                <button type="button" class="btngeo clearbtn" ng-click="clearCreateAdmin()">CLEAR</button>
                                <button type="submit" class="btngeo submitbtn clr448aff" ng-disabled="addNewUserSelectForm.$pristine|| addNewUserSelectForm.$invalid">SUBMIT</button>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
        <div class="preloader" ng-show="loader">
            <div id="cssload-loader">
                <div class="cssload-dot"></div>
                <div class="cssload-dot"></div>
                <div class="cssload-dot"></div>
                <div class="cssload-dot"></div>
                <div class="cssload-dot"></div>
                <div class="cssload-dot"></div>
                <div class="cssload-dot"></div>
                <div class="cssload-dot"></div>
            </div>
        </div>
    </div>