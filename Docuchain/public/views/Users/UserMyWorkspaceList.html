<div class="app-content" ng-app="dapp" ng-controller="UserMyWorkspaceListController" ng-init="getAllGroupList()">
    <div class="docubodyTitle">
        <ul id="breadcrumb">
            <li>
                <a ui-sref="dapp.userMyWorkspace">
                    <span class="icon icon-beaker"> </span> My Workspace</a>
            </li>
            <li>
                <a ng-show="groupShipName != null">
                    <span class="icon icon-beaker"> </span> {{groupShipName}}</a>
            </li>
        </ul>
        <div class="bttnGroup">
            <button type="button" class="addNew" data-toggle="modal" data-target="#creategroup"
                data-backdrop="static">
                <img src="image/add-user-button.png">Create Group</button>
        </div>
    </div>

    <div class="docuContent">
        <div class="vesslesDocumentsTable">
            <div class="row">
                <div class="col-lg-6">
                    <div class="datatableEntry">
                        <label>Show
                            <input type="text" ng-model="itemsPerPageGroup">of
                            <span>{{groupListLength}}</span>
                        </label>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="docuchainSearchbox">
                        <div class="searchInput">
                            <input type="text" placeholder="Search" ng-model="groupSearch" />
                            <button type="button" class="searchIcon">
                                <i class="fa fa-search" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-xs-12">
                    <div class="vesselsTables">
                        <div class="VesselTableData table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th ng-click="orderByField='groupName'; reverseSort = !reverseSort">Group Name <i class="fa fa-sort float-right" aria-hidden="true"></i></th>
                                        <th ng-click="orderByField='keyword'; reverseSort = !reverseSort">Keyword <i class="fa fa-sort float-right" aria-hidden="true"></i></th>
                                        <th ng-click="orderByField='emailId'; reverseSort = !reverseSort">Email Id<i class="fa fa-sort float-right" aria-hidden="true"></i></th>
                                        <th class="text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr dir-paginate="group in groupList|filter:groupSearch |itemsPerPage:itemsPerPageGroup | orderBy:'groupName' | orderBy:orderByField:reverseSort" current-page="currentPageGroup">

                                        <td style="cursor: pointer;" ui-sref="dapp.userMyWorkspaceExpiryDocument({groupId:group.id,groupName:group.groupName,groupShipName:groupShipName})">{{group.groupName}}</td>
                                        <td>{{group.keyword}}</td>
                                        <td>{{group.emailId}}</td>

                                        <td class="text-center">
                                            <button type="button" class="btned editBtn"  data-toggle="modal" data-target="#shareMail"
                                                ng-click="shareExpiryDocumentWithMail(group)" data-backdrop="static">
                                                <i class="fa fa-share-alt" aria-hidden="true"></i>
                                            </button>
                                            <button type="button" class="btned deleteBtn"  data-toggle="modal"
                                                data-target="#deleteGroup" ng-click="storeGroupObjDelete(group)" data-backdrop="static">
                                                <i class="fa fa-trash" aria-hidden="true"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                           
                        </div>
                        <div class="not-found-div" ng-show="(groupList|filter:groupSearch).length==0">No records found</div>
                        <div class="vesselstablebottom">
                            <dir-pagination-controls max-size="5" direction-links="true" boundary-links="true"></dir-pagination-controls>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Create Group -->
    <div class="createGroup">
        <div class="modal fade" id="creategroup" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Create Group</h4>
                        <button type="button" class="close" data-dismiss="modal" ng-click="closeClick()" >&times;</button>
                    </div>
                    <div class="modal-body">
                        <form name="createGroupForm" >
                            <div class="createtaskbody">
                                <div class="form">
                                    <div class="form-group">
                                        <label>Group Name <span>*</span></label>
                                        <input type="text" customFocus name="groupName" placeholder="Group Name" ng-maxlength="100" ng-model="group.groupName" required>
                                        <span ng-show="createGroupForm.groupName.$error.maxlength" style="color:red;">Please enter less than 100 characters</span>
                                    </div>
                                    <div class="form-group">
                                        <label>Keyword</label>
                                        <input type="text" name="Keyword" placeholder="Keyword" ng-maxlength="100" ng-model="group.Keyword">
                                        <span ng-show="createGroupForm.Keyword.$error.maxlength" style="color:red;">Please enter less than 100 characters</span>
                                    </div>
                                    <!-- <div class="form-group">
                                        <label>Mode of the Share</label>
                                        <div class="tasksselect">
                                            <select ng-model="group.mode" custom-focused >
                                                <option value="">Select Mode</option>
                                                <option value='Email'>Email</option>
                                                <option value='Skype'>Skype</option>
                                            </select>
                                        </div>

                                    </div> -->
                                    <!-- <div class="form-group">
                                        <label>Email Id</label>
                                        <input type="text" placeholder="Email Id" ng-model="group.emailId" custom-focus class="text-box" name="Email" ng-pattern="/^((([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})),?)*$/"
                                            required>
                                        <span style="color:Red" ng-show="createGroupForm.Email.$touched&&createGroupForm.Email.$error.pattern">Please enter valid email id  </span>

                                    </div> -->
                                    <div class="form-group">
                                            <label>Email Address <span>*</span></label>
                                            <input type="text" placeholder="Email Address" ng-model="group.emailId" custom-focus class="text-box" name="Email" ng-pattern="/^((([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})),?)*$/"
                                                required>
                                            <span style="color:Red" ng-show="createGroupForm.Email.$dirty&&createGroupForm.Email.$error.pattern">Please Enter Valid Email</span>

                                        </div>
                                    <!-- <div class="form-group"  ng-show={{sessionObject.roleId}}!=3>
                                            <label>Vessel Name <span>*</span>
                                            </label>
                                            <div class="userMultiSelect">
                                                <div class="vesselType">
                                                    MultiSelect For Techmanager & Commercial Manager
                                                    <ui-select multiple ng-model="group.vesselSelectedList" custom-focus class="text-box" theme="bootstrap" close-on-select="true"
                                                        title="Choose a Vessel" remove-selected="false">
                                                        <ui-select-match placeholder="Select Vessel">{{$item.shipName}}</ui-select-match>
                                                        <ui-select-choices repeat="user in vesselList | filter: $select.search">
                                                            <div ng-bind-html="user.shipName"></div>
                                                            <small>
                                                                IMO: {{user.imo}}
                                                            </small>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                    {{vesselSelectedList}}
                                                </div>
                                            </div>
                                        </div> -->
                                </div>
                            </div>
                            <div class="modal-footer1">
                                <button type="button" class="btngeo clearbtn" ng-click="clearGroupClearFileds()">CLEAR</button>
                                <input type="submit" class="btngeo submitbtn clr448aff" ng-disabled="createGroupForm.$invalid" value="CREATE GROUP" ng-click="createGroupInMyWorkspace(group)" />
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Delete Popup -->
    <div class="deleteMessage">
        <div class="modal fade" id="deleteGroup" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Group Delete</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="delete-group-body">
                            <p>
                                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>Are you sure you want to delete the group?</p>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btnd buttn-delete" ng-click="deleteGroup()">Yes</button>
                        <button type="button" class="btnd buttn-no" data-dismiss="modal">No</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

     <!-- share Popup -->
     <div class="deleteMessage">
        <div class="modal fade" id="shareMail" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">GROUP SHARE - MAIL CONTENT</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="subject-mail">
                            <label>Subject</label>
                            <div class="form-group">
                                <input type="text" ng-model="libshipNameDoc">
                            </div>
                        </div>
                <div class="text-message">
                      <textarea readonly ng-model="expDocUrlGroupPopup"></textarea>
                    </div>
                    </div>
                   
                </div>
            </div>
        </div>
    </div>
    <div class="preloader" ng-show="loader">
        <div id="cssload-loader">
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
        </div>
    </div>
</div>